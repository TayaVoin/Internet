# Основы REST API

Мы начинаем с базы. REST — это не просто набор правил, а стиль архитектуры, который позволяет системам понимать друг друга. На этой неделе мы сфокусируемся на "контракте" — том, как ваш сервис общается с внешним миром. Мы будем работать с одним простым ресурсом, чтобы отточить именно взаимодействие.

## Ключевые понятия
- **Ресурс** — сущность, с которой мы работаем (например, "пользователь", "заказ", "товар").
- **Коллекция** — список таких сущностей (например, "все пользователи").
- **Идемпотентность** — свойство метода, когда повторный вызов не меняет состояние системы (например, сколько бы раз вы ни вызвали GET, данные не изменятся).
- **Контракт API** — договоренность между сервером и клиентом: "если ты пришлешь мне такой JSON, я отвечу тебе вот так".

## Минимальный REST-контракт
Обычно для ресурса реализуют набор CRUD-операций. Мы начнем с минимума:
- `GET /items` — дай мне список всех вещей.
- `POST /items` — вот новая вещь, сохрани её.
- `GET /items/{id}` — дай мне конкретную вещь с этим ID.

## На что обратить внимание
1. **HTTP-коды имеют значение**. Если ресурс создан — верните `201 Created`, а не просто `200 OK`.
2. **ID возвращает сервер**. При создании (`POST`) клиент обычно не знает ID. Сервер присваивает его сам и должен вернуть в ответе.
3. **Структура важна**. Используйте понятные имена полей в JSON.

## Пример из жизни
Представьте интернет-магазин. У него есть сервис "Корзина". Фронтенду не важно, лежит ли корзина в Redis или в Postgres. Ему важен контракт: "Я делаю POST /cart/add, и товар появляется в корзине". Это и есть сила REST — абстракция от реализации.

## Что почитать
- [Документация FastAPI](https://fastapi.tiangolo.com/) — лучшая документация в мире Python.
- [HTTP Status Codes](https://developer.mozilla.org/ru/docs/Web/HTTP/Status) — шпаргалка по кодам ответов.
- [Что такое API?](https://aws.amazon.com/ru/what-is/api/) — простое объяснение от AWS.
